/*! stats.ts v1.1.0 by Matteo Bruni */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(this,(function(){return(()=>{"use strict";var t={630:(t,e,i)=>{i.r(e),i.d(e,{Panel:()=>s,Stats:()=>h});class s{constructor(t,e,i,s,h){this.name=t,this.foreground=e,this.background=i,this.msRefresh=s,this.refreshCallback=h,this.data=[],this._min=1/0,this._max=0,this.lastTime=0,this.pixelRatio=Math.round(devicePixelRatio||1),this.width=100*this.pixelRatio,this.height=60*this.pixelRatio,this.text={position:{x:3*this.pixelRatio,y:2*this.pixelRatio}},this.graph={position:{x:3*this.pixelRatio,y:18*this.pixelRatio},size:{width:94*this.pixelRatio,height:40*this.pixelRatio}},this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="100px",this.canvas.style.height="60px",this.canvas.style.borderRadius="5px",this.context=this.canvas.getContext("2d"),this.init(),this.dom=this.canvas}get min(){return this._min}get max(){return this._max}init(){if(!this.context)return;const t=12*this.pixelRatio;this.context.font=`400 ${t}px "Avenir Next", Helvetica, "Helvetica Neue", Arial, sans-serif`,this.context.textBaseline="top",this.context.fillStyle=this.background,this.context.fillRect(0,0,this.width,this.height),this.context.fillStyle=this.foreground,this.context.fillText(this.name,this.text.position.x,this.text.position.y)}update(t){const e=t-this.lastTime;if(e<this.msRefresh)return;const i=this.refreshCallback(t,e);if(!i)return;this.lastTime=t;const{value:s,maxValue:h}=i;this._min=Math.min(this._min,s),this._max=Math.max(this._max,s),this.data.push(s);const o=Math.max(this._max,h);if(this.data.length>this.graph.size.width&&this.data.splice(0,this.data.length-this.graph.size.width),this.context){this.context.fillStyle=this.background,this.context.globalAlpha=1,this.context.fillRect(0,0,this.width,this.height),this.context.fillStyle=this.foreground,this.context.fillText(`${Math.round(s)} ${this.name} (${Math.round(this._min)}-${Math.round(this._max)})`,this.text.position.x,this.text.position.y),this.context.beginPath(),this.context.moveTo(this.data.length+this.graph.position.x,(1-this.data[this.data.length-1]/o)*this.graph.size.height+this.graph.position.y);for(let t=this.data.length-1;t>0;t--){const e=t-.5+this.graph.position.x,i=t=>(1-t/o)*this.graph.size.height+this.graph.position.y,s=i(this.data[t]),h=i(this.data[t-1]);this.context.bezierCurveTo(e,s,e,h,t-1+this.graph.position.x,h)}this.context.strokeStyle=this.foreground,this.context.stroke()}}}class h{constructor(){this.mode=0,this.dom=document.createElement("div"),this.panels=[],this.background="#ffffff",this.initStyle(),this.dom.addEventListener("click",(t=>{t.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)}),!1),this.beginTime=(performance||Date).now(),this.frames=0,this.panels.push(this.addPanel("FPS","#4080f0",100,((t,e)=>{const i={value:1e3*this.frames/e,maxValue:100};return this.frames=0,i}))),this.panels.push(this.addPanel("MS","#33A033",0,(t=>({value:t-this.beginTime,maxValue:200})))),performance&&performance.memory&&this.panels.push(this.addPanel("MB","#ff0088",100,(()=>{if(!performance||!performance.memory)return;const t=performance.memory,e=1048576;return{value:t.usedJSHeapSize/e,maxValue:t.jsHeapSizeLimit/e}}))),this.showPanel(0)}addPanel(t,e,i,h){const o=new s(t,e,this.background,i,h);return this.addPanelObject(o),o}showPanel(t){for(let e=0;e<this.dom.children.length;e++){const i=this.dom.children[e].style;i&&(i.display=e===t?"block":"none")}this.mode=t}begin(){this.beginTime=(performance||Date).now()}end(){const t=(performance||Date).now();this.frames++;for(const e of this.panels)e.update(t);return t}update(){this.beginTime=this.end()}addPanelObject(t){this.panels.push(t),this.dom.appendChild(t.dom)}initStyle(){const t="undefined"!=typeof matchMedia?matchMedia("(prefers-color-scheme: dark)"):void 0,e=()=>{this.updateStyle()};(null==t?void 0:t.addEventListener)?null==t||t.addEventListener("change",e):(null==t?void 0:t.addListener)&&(null==t||t.addListener(e)),this.updateStyle()}updateStyle(){var t;const e="undefined"!=typeof matchMedia?matchMedia("(prefers-color-scheme: dark)"):void 0,i=null!==(t=null==e?void 0:e.matches)&&void 0!==t&&t;this.dom.style.position="fixed",this.dom.style.top="5px",this.dom.style.left="5px",this.dom.style.cursor="pointer",this.dom.style.opacity="0.9",this.dom.style.zIndex="10000",this.dom.style.borderRadius="5px",i?(this.background="#000000",this.dom.style.boxShadow="-4px -4px 10px 0 rgb(255, 255, 255, 0.7)"):(this.background="#ffffff",this.dom.style.boxShadow="-4px -4px 10px 0 rgb(0, 0, 0, 0.7)");for(const t of this.panels)t.background=this.background}}}},e={};function i(s){if(e[s])return e[s].exports;var h=e[s]={exports:{}};return t[s](h,h.exports,i),h.exports}return i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(630)})()}));